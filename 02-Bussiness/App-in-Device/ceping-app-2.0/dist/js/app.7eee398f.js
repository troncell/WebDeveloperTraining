(function(){"use strict";var e={190:function(e,t,i){var n=i(963),s=i(252);function o(e,t){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(i)}var a=i(744);const r={},c=(0,a.Z)(r,[["render",o]]);var l=c,u=i(201),h=i.p+"img/1-button.85a4dbbc.png";const d={id:"box"};var m={__name:"index",setup(e){const t=(0,u.tv)();function i(){t.push("/answer")}return(e,t)=>((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("img",{src:h,class:"button",onClick:t[0]||(t[0]=e=>i())})]))}};const v=(0,a.Z)(m,[["__scopeId","data-v-1e811b72"]]);var g=v,p=i(262),A="data:image/png;base64,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",w=i(577);i(38);const f={id:"box"},b={class:"top"},x={class:"topInfo"},C={class:"number"},I={class:"content"},D={class:"time"},Y={class:"bottom"},k=["data-index","onClick"],j={name:"QAPanel"};var y=Object.assign(j,{props:{title:String,data:Object,index:Number,total:Number,questionIndex:String,timerCount:Number},setup(e,{emit:t}){const i=e;function o(e,n){let s=parseInt(25*e.score);i.data.questionItems.forEach((e=>{e.chosen=!1})),e.chosen=!0,console.log("answerItem in QAItemPanel",e,s,i.index),t("answered",s,i.index)}const a=function(e){switch(e){case"A":return"answer-1";case"B":return"answer-2";case"C":return"answer-3";case"D":return"answer-4";case"E":return"answer-5";default:console.log("nothing happened");break}};return(t,i)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",b,[(0,s._)("div",x,[(0,s._)("div",C,"第"+(0,w.zw)(e.questionIndex)+"题",1)])]),(0,s._)("div",I,[(0,s._)("span",{class:(0,w.C_)([e.data.title.length<30?"content-text":"content-text2"])},(0,w.zw)(e.data.title),3)]),(0,s._)("div",D,(0,w.zw)(e.timerCount)+" S",1),(0,s._)("div",Y,[(0,s.Wm)(n.W3,{name:"list",tag:"div",css:!0,class:"bottom-flex"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.data.questionItems,(t=>((0,s.wg)(),(0,s.iD)("div",{class:(0,w.C_)(["answer",a(t.prefix)]),key:t.id,"data-index":e.index,onClick:i=>o(t,e.index)},[(0,s._)("span",null,(0,w.zw)(t.content),1)],10,k)))),128))])),_:1})])],512)),[[n.F8,e.data]])}});const P=(0,a.Z)(y,[["__scopeId","data-v-4563d08c"]]);var B=P;const O=e=>((0,s.dD)("data-v-52259e22"),e=e(),(0,s.Cn)(),e),H={key:0},q=O((()=>(0,s._)("img",{src:A},null,-1))),G=[q];var T={__name:"index",setup(e){const t=(0,p.iH)(null),i=(0,s.f3)("axios"),n=(0,u.tv)();var o="https://activity.api.troncell.com/api/services/app/SengsingDevice/GetPapersByTags",a="8fdbb756192b43c09e3a10e7824039e0",r=(0,p.iH)([]),c=(0,p.iH)(-1),l=(0,p.iH)(""),h=((0,p.iH)(0),0);let d,m=(0,p.iH)(30),v=30;function g(e,t){h+=e,console.log("Parent got event",e,t),c.value<r.value.length-1?(c.value++,x(c)):n.push({path:`/score/${h}`})}(0,s.bv)((()=>{b(),f()})),(0,s.Ah)((()=>{d&&clearInterval(d)}));const A=()=>{n.push("/home")};function w(){m.value=v}function f(){d=setInterval((()=>{m.value--,0===m.value&&(m.value=v,A())}),1e3)}async function b(){i.get(o,{params:{Tags:"测评",Subkey:a}}).then((e=>{r.value=e.data.result.items[0].questions,c.value=1,x(c)}))}function x(e){switch(e.value){case 1:l.value="一";break;case 2:l.value="二";break;case 3:l.value="三";break;case 4:l.value="四";break;case 5:l.value="五";break;case 6:l.value="六";break;case 7:l.value="七";break;case 8:l.value="八";break;case 9:l.value="九";break;case 10:l.value="十";break;default:console.log(e.value);break}}return(e,i)=>((0,s.wg)(),(0,s.iD)("div",{id:"box",onClick:i[0]||(i[0]=e=>w())},[(0,p.SU)(r).length>0?((0,s.wg)(),(0,s.iD)("div",H,[(0,s.Wm)(B,{ref_key:"qaItem",ref:t,title:"选择题",data:(0,p.SU)(r)[(0,p.SU)(c)],index:(0,p.SU)(c),total:(0,p.SU)(r).length,questionIndex:(0,p.SU)(l),timerCount:(0,p.SU)(m),onAnswered:g},null,8,["data","index","total","questionIndex","timerCount"])])):(0,s.kq)("",!0),(0,s._)("div",{class:"gohome",onClick:A},G)]))}};const E=(0,a.Z)(T,[["__scopeId","data-v-52259e22"]]);var N=E,F=i.p+"img/3-button.1fb24574.png";const R=e=>((0,s.dD)("data-v-7f4c5952"),e=e(),(0,s.Cn)(),e),M={id:"box"},S={class:"score"},U={class:"level"},z={key:0},W={key:1},Z={key:2},J=R((()=>(0,s._)("img",{src:F},null,-1))),X=[J],L=R((()=>(0,s._)("img",{src:A},null,-1))),V=[L],K={class:"timer"};function Q(e,t,i,n,o,a){return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("span",S,(0,w.zw)(o.score),1),(0,s._)("div",U,[o.score<=45?((0,s.wg)(),(0,s.iD)("span",z,"入门阶段")):o.score<=65?((0,s.wg)(),(0,s.iD)("span",W,"进阶阶段")):((0,s.wg)(),(0,s.iD)("span",Z,"高级阶段"))]),(0,s._)("div",{class:"photo",onClick:t[0]||(t[0]=e=>a.tophoto())},X),(0,s._)("div",{class:"gohome",onClick:t[1]||(t[1]=(...e)=>a.goHome&&a.goHome(...e))},V),(0,s._)("div",K,(0,w.zw)(o.timerCount)+"S",1)])}var _={name:"score",data(){return{score:"",timerCount:15}},mounted(){this.getscore(),this.setTime()},unmounted(){clearInterval(this.timer)},methods:{getscore(){this.score=this.$route.params.score},tophoto(){this.$router.push({path:`/takephoto/${this.score}`})},goHome(){this.$router.push("/home")},setTime(){this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{this.timerCount--,0===this.timerCount&&(clearInterval(this.timer),this.$router.push("/home"))}),1e3)}}};const $=(0,a.Z)(_,[["render",Q],["__scopeId","data-v-7f4c5952"]]);var ee=$,te=i.p+"img/4-button.c37bf94e.png",ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABRCAYAAACqj0o2AAAKFUlEQVR4nO2deVBV1x3HP+/x2DfZhAAiIIiiuOESI5lIUVwabcmMqWlrbBabcabNjLHTNHHGaWeMmjYm/SNdppm0UdOatmNqk1iJJsZtFLSIaBDQJ2FXESyLgMCD1z8O78GFt1zevZcHymeGGc59557zu9+5596z/X5XZzabcSMGYHbfXyqQCMQCkUAgEAR4AD1AC9AK3AZqgHLgKlDU92caYdut6Nwg4ixgGZAJPIEQSymtwEngK+AL4LIKZcpmpESMBn7Y95c2AvVdAf4K7AfqtK5MaxEfBbYBqxDNcqTpAY4AbwB5WlWilYiZCPGytCjcRY4DOxBNXlXUFnEa8A6wUs1CVSYX2AKUqlWgXqVyPIHtwCVGt4Ag7CtC2OulRoFq3IkJwD+A+crNGXH+CzwNfKOkEKV34neBi4xNAUHYfRFxHS7jqog6YCfwMTBBiQGjgAmI69iFuK5h40pzNgDvAT9ypcJRzgfAJoY5+hmuiH7A34Enh3PSGOMz4HtAu9wThiOiB+K2Xzt8u8YcnwBPITrrTpH7TNQB7/NwCAjiOt9H5jNSrog7gY2uWjRG2Yi4bqfIac7rgQNKLRrDfB8n1+9MxGlAAeKF8rDSDqTjYJjoqDl7IaaTHmYBQVz/ARwMER2J+AtgntoWjVHmAK/Z+9Fec56GmEzw1siosUgnQswhzdrenfgW4wIOxhvYY+sHW3fiMuCY1hbdaW5j//FLFNyopaW90+VyJvj7kJ4Uw8asuYQE+KpooV2WI9ZxrNgS8RxiWl8z6pvb2PLeYUXiDSYi2J93XlxNsL+PamXaIQ9YPPDA4Oa8FI0FBNj3ZaGqAoK4sw+cGpFFvkcROlkxDMrwqtYWdJl6OFdaJTkWEezv0hxUrxkaWtqs6TPFlby0cgE6nUszWsPhVeCEJTFQxHggW+var1TcpsvUP65fMDWW7eszXS7v53/5nJLqegCa2+9jvHmX5OgwxXY6IRuhVwVIm/NzqLfmYpcCY60kvTA5RlF5Cwadf+F6jaLyZKIHnh+YsPCM1jWbzWbyr0kvMj1JmYjpSdGS9IVrtXZyqs56yz+W5jwHSFajZDNQWl1PaU0DHV3dkt+MdY3UN92zpuMjQ4gI9ldUX0JUKKGBvtxt7RB13Gzk1wdPExseJMnn5+3JjLhINZt6MmIPUZFFRFWWORtb2/nNwdMUV9XLyp+ZlqC4Th2QmZbIwbPF1mOniyvs5k9PimZrTgaBvqqMJbKAIktzXqG0tI6ubrbtOyZbwMSoUNYsmqa0WgDWPZ5GdKi8fVEFxjq2f/glpp5eNar+FohnoiewUGlph86VUNvYIitvRupkdmxYhqeHOttz/L092bVxxZDnoz2MNxs5UnBNjaofBww6s9mcjljEVsRL7x6i7m6rNZ09N4nUuImSPN6eBpKjw4icEOC0vPvdJirrm2huu09YoB/RYYH4enk6Pa+2sYXyW3cl3SiAizfqOPV1hTWdEhvOW8+vclqeDBZYNlkq5uYAAWPCgvjpmsUOctsnv6yaT/JLuVJ5m4FDUg+9jjmJ0eQsTmV2QpTd82PCgogJCxpyPHNWIkXlt2huvw9AXWPrkDwuMtuA2KGqmIEjcFcmAlo7OtnzrzMUGG1vJ+zpNVNgrKXAWEtG6mReXrvY5p3Z2W3i+OVy7neZWDwtjqgQcdfrdTpCA32tIvb2qvJMBJhuQGzxdSutHZ28tvcolfVNsvKfuVpJQ0s7bzy7HC9D/3O112xm275jlNU2AHDg5GX2vLCKSRHBmtjdR6IeiNOyBjn89t9nhwjoZfAgPSmGlfOSmZP4CAYP6WCqtOYOfzxyXnLsalW9VUAQPYbPL17XznBBnAHQfKDpiMIbdZwfNIpZmpbAj1cukPTl7t7r4PeH88gv6897rNDIqvSpDjvQg8XXgHA9EKJ1LY44lFciSWfNnsIrNjrDoQG+vP70UhalxEqOf5rfP1ufGjdRIqi3p4Gs2VM0sFrCBANuXM3rMvVw+Ztb1rSftyebVsy3Oy2m1+nYvHoRBdfrMPW9GPKvVWM2m9HpdOh1OnY+m83xy+W03e8iY8ZkHglRwznBIf4GRGfbLVTWN1nFAJifFIO/j+PNq2GBfsyYPJGiPvHbO7u509LOxL4xuI+XgdXzp2pn9FAMeqDbaTaNGDxBERnivBMODOmsNzS32ck5Ipj0DGMLmdp46KUP/VaZSwZtnVLxg/zcujDZpgf+567aYweNLArLb+Jsb5Cpp1fyHNXpdEyUMYzUkCY90Oiu2oP9fYiP7O8c3G66x9FCo8NzDuWV0NrRf8emxUdKOtxuoEEPVDnNpiHL5ki7IH/KvcDZEtsmHSs0su94ocPz3UCVAeGt6Ta+PT+FwxfKrBMYXaYedv3zJHOnRPPY9DhCA3xpaGnndHEFX1felpybGBXK0pnKJ3YVUm4ASpxm0xCDh56tORm8vveoZPqq8EYdhTfs+zb6eXvys6cyRmJ51BklesTGJbeSEhPOr36QRYCTPqKF0ABfdmxYzqRwTScW5HJZj/ANdls3x8LMyZH8bvNals9NQm/n7jJ46HlyQQrvbl4zEmvLcmgFCg2IzvYFhAO3WwkN9OXlNYt5btk8Lt6oo6q+ibbObgJ9vZkUEUx6Ugz+3m4bYNniFGCyrPblMgpEtBDo680T7n9hyOEr6F+8z3WjIWOZL6BfxEuA5rOXDxhGhMuvZBvJR2qV3qPe+oWqdKuz1mzBqtdAEf8MuFyL34AHvrHuLlV35K2XjBRlNQ2SdfEAZTsgehEeV4B0a10FcBQXt5SkxUeRX1YNQHdPDz/5w6cSYd3N4JmfWfH2l11lcJS+bXUwdJPnm7go4rqMmZy/VmOdhTEz1PDRgsFDT85jilaK3xyYGLyKcwIXQ5+kxISzefXC0TAMc4iHXseW7yxRMtrJY8AuWdDAe6CspoGPzxVTUn2Hrm63RZ4ago+XJ6lxE1mXMZOESEVrc9kM0seeM9B/EAGBxpGSiw1dxj2q5DNsj6pSRGCJcfrZhR1PU0euul4Ix6BxJ0nRKhcBXbZ+HPd3do4if2f6TnxBTYvGIJtwEldMzm6fj4Ddqpgz9tgN/M1ZJrkhXXTAXmCDQqPGEvsRwTScCjQeF8c2msTFoa/AZxARjB5kPkNcpywBYfi+fO1ADiKm1oPIB4jrG9bCnSvbSE0I58AH7WWzG3Fdwx7wKw1CmYOYzB3L4f+agBeBg64WMB7JcxRE8qTPgCXAL7EzLBqFdCHsXYJCAUH96MbTgbcZ3cF5c4FXUHEPktr+CSWI+bZsNAwO7iJ5CLtWofImLq0jvmcCWxGGa+5QYoNeRMT3txHByjVhpL49EEP/twdmjkB9xYhh24eA5vEM3PUVjOWI2DJqfwXjBGL944H8CoY9LK7CcxDergkIX8MIhLjBiMdAL9CMEKseqEa8Va8iJkzd+j2W/wOe9Rlw4w610wAAAABJRU5ErkJggg==";const ne={id:"box"},se={class:"biankuang"},oe={class:"camera"},ae={id:"video",ref:"video"},re=["width","height"],ce={key:0,class:"weixinDiv"},le={class:"weixinTimerCount"},ue={key:1},he=["src"],de={key:0,id:"box2"},me=(0,s._)("img",{src:A},null,-1),ve=[me],ge=(0,s._)("img",{src:ie},null,-1),pe=[ge],Ae=(0,s._)("div",{id:"box3"},null,-1),we=["src"],fe={class:"score"},be={class:"text"},xe={class:"level"},Ce={key:0},Ie={key:1},De={key:2};function Ye(e,t,i,o,a,r){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ne,[(0,s.wy)((0,s._)("div",se,null,512),[[n.F8,a.showbutton]]),(0,s._)("div",oe,[(0,s.wy)((0,s._)("video",ae,null,512),[[n.F8,a.showvideo]])]),(0,s._)("canvas",{id:"canvas",ref:"canvas",width:a.screenWidth,height:a.screenHeight},null,8,re),(0,s.wy)((0,s._)("img",{src:te,id:"startbutton",ref:"startbutton",onClick:t[0]||(t[0]=e=>r.takepicture())},null,512),[[n.F8,a.showbutton]]),a.wechartShow?((0,s.wg)(),(0,s.iD)("div",ce,[(0,s._)("div",le,(0,w.zw)(a.timerCount)+"S",1)])):(0,s.kq)("",!0),a.wechartShow?((0,s.wg)(),(0,s.iD)("div",ue,[(0,s.Wm)(n.uT,{name:"slide-fade"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:a.qrCodeImage,class:"weixincode"},null,8,he)])),_:1})])):(0,s.kq)("",!0)]),a.showphoto?((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",{class:"gohome",onClick:t[1]||(t[1]=(...e)=>r.goHome&&r.goHome(...e))},ve),(0,s._)("div",{class:"again",onClick:t[2]||(t[2]=(...e)=>r.takeagain&&r.takeagain(...e))},pe),Ae,(0,s._)("img",{class:"jietuphoto",src:a.picture},null,8,we),(0,s._)("div",fe,[(0,s._)("span",be,(0,w.zw)(a.score),1)]),(0,s._)("div",xe,[a.score<=45?((0,s.wg)(),(0,s.iD)("span",Ce,"入门阶段")):a.score<=65?((0,s.wg)(),(0,s.iD)("span",Ie,"进阶阶段")):((0,s.wg)(),(0,s.iD)("span",De,"高级阶段"))])])):(0,s.kq)("",!0)],64)}var ke=i(120),je=i.n(ke),ye=i(755),Pe=i.n(ye),Be={data(){return{securityKey:"9DAD3E8E53CC46D4AD2D73C4024207E2",score:0,video:null,mediaStream:null,canvas:null,photo:null,picture:"",showvideo:!0,showphoto:!1,showbutton:!0,screenWidth:800,screenHeight:600,timerCount:2e4,wechartShow:!1,qrCodeImage:""}},mounted(){this.startup(),this.getscore(),this.setTime()},beforeRouteLeave(e,t,i){this.stopBothVideoAndAudio(this.mediaStream),i()},methods:{base64ToBlob:function({b64data:e="",contentType:t="",sliceSize:i=512}={}){return new Promise(((n,s)=>{let o=atob(e),a=[];for(let e=0;e<o.length;e+=i){let t=o.slice(e,e+i),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));a.push(new Uint8Array(n))}let r=new Blob(a,{type:t});n(r)}))},stopBothVideoAndAudio(e){e.getTracks().forEach((function(e){"live"==e.readyState&&e.stop()}))},startup(){this.video=this.$refs.video,this.canvas=this.$refs.canvas,this.photo=this.$refs.photo;let e=this;navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(t){e.mediaStream=t,e.video.srcObject=t,e.video.play()})).catch((function(e){console.log("An error occurred: "+e)}))},setTime(){this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{this.timerCount--,0===this.timerCount&&(clearInterval(this.timer),this.wechartShow=!1)}),1e3)},takepicture(){clearInterval(this.timer),this.timerCount=20;let e=this.canvas.getContext("2d");e.drawImage(video,0,0,this.screenWidth,this.screenHeight);let t=this.canvas.toDataURL("image/png");this.picture=t,this.showvideo=!1,this.showphoto=!0,this.showbutton=!1,this.$nextTick((()=>{this.toImage()})),this.setTime(),this.wechartShow=!0,this.showbutton=!1},takeagain(){this.showvideo=!0,this.showphoto=!1,this.showbutton=!0,this.picture="",this.wechartShow=!1,clearInterval(this.timer),this.timerCount=2e4},toImage(){je()(document.querySelector("#box2")).then((e=>{let t=e.toDataURL("image/jpeg",.8);this.imgUrl=t,console.log(this.imgUrl),""!==this.imgUrl&&(this.dialogTableVisible=!0),this.PostPlayerData4ActionQrcode()}))},PostPlayerData4ActionQrcode(){var e=this;let t=this.imgUrl.split(",")[1];this.base64ToBlob({b64data:t,contentType:"image/jpeg"}).then((t=>{let i=new FormData;i.append("PlayingImage",t,"upload.jpeg"),Pe().ajax({type:"post",contentType:!1,processData:!1,url:`https://activity.api.troncell.com/api/UserAction/PostPlayerData4ActionQrcode?QrType=AfterGame&SnsType=WeChat&SecurityKey=${this.securityKey}`,data:i,success(t){console.log(t,111),e.qrCodeImage=t.result.qrCodeImage}})}))},getscore(){this.score=this.$route.params.score},goHome(){this.$router.push("/home")}}};const Oe=(0,a.Z)(Be,[["render",Ye]]);var He=Oe;const qe=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:g},{path:"/answer",name:"answer",component:N},{path:"/score/:score",name:"score",component:ee},{path:"/takephoto/:score",name:"takephoto",component:He}],Ge=(0,u.p7)({history:(0,u.PO)("/"),routes:qe});var Te=Ge,Ee=i(154);const Ne=(0,n.ri)(l);Ne.provide("axios",Ee.Z),Ne.use(Te),Ne.mount("#app")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],o=e[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,s,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(c)var u=c(i)}for(t&&t(n);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},n=self["webpackChunkceping"]=self["webpackChunkceping"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(190)}));n=i.O(n)})();
//# sourceMappingURL=app.7eee398f.js.map